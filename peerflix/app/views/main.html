<div ng-switch="viewView">
    <div ng-switch-when="home">
         <div class="header">
          <ul class="nav nav-pills pull-right">
            <li class="active"><a href="">Torrents</a></li>
            <li>
              <a href="https://github.com/asapach/peerflix-server" target="_blank">
                <i class="fa fa-github"></i> About</a>
            </li>
          </ul>
          <h3 class="text-muted text-nowrap"><img src="images/logo.svg" alt="logo" height="40"> peerflix server</h3>
        </div>

        <div class="jumbotron" ng-file-drop ng-file-change="upload($files)">
          <h1>Stream Torrents</h1>
          <div class="form-group">
            <div class="input-group">
              <span class="input-group-addon">torrent:</span>
              <input type="text" class="form-control" placeholder="Torrent or magnet link" ng-model="link" ng-keypress="keypress($event)">
            </div>
          </div>
          <a class="btn btn-success" href="" ng-click="download()">
            <span class="fa fa-cloud-download"></span>
            Download
          </a>
          <p class="text-right">
            <i class="fa fa-upload"></i>
            You can also
            <span class="btn-link" ng-file-select ng-file-change="upload($files)">
              upload .torrent files
            </span>
            or drag & drop them here
          </p>
        </div>

        <div ng-if="!torrents.length" class="alert alert-info" role="alert">
          <i class="fa fa-film"></i> Go get some torrents to watch!
        </div>

        <div class="row content">
          <div ng-repeat="torrent in torrents" class="panel panel-default" ng-class="{ 'panel-warning': !torrent.ready, 'panel-success': torrent.interested }">
            <div class="panel-heading">
              <button type="button" class="close" ng-click="remove(torrent)">&times;</button>
              <span class="fa" ng-class="{
                'fa-cloud-upload': torrent.ready && !torrent.interested,
                'fa-refresh fa-spin': !torrent.ready,
                'fa-exchange': torrent.interested }">
              </span>
              {{ torrent.name || 'Fetching metadata...' }}
            </div>
            <div class="panel-body">
              <div class="progress progress-striped" ng-class="{ active: torrent.interested }">
                <div ng-class-even="'space'" ng-class-odd="'progress-bar progress-bar-success'"
                     ng-repeat="progress in torrent.progress track by $index" ng-style="{ width: progress + '%' }"></div>
              </div>
              <ul class="list-group">
                <li class="list-group-item" ng-repeat="file in torrent.files">
                  <input type="checkbox" ng-model="file.selected" ng-click="select(torrent, file)"/>
                  <span class="fa fa-cloud-download"></span>
                  <a href="/torrents/{{ torrent.infoHash }}/files/{{ file.path | encodeUri }}" target="_blank">
                    {{ file.name }} ({{ file.length / 1024 / 1024 | number:1 }} MB)
                  </a>
                  <br/>
                  <video controls ng-src="{{getVideoSrc(torrent.infoHash,file.path)}}">
                  </video>



                </li>
              </ul>
            </div>
            <div class="panel-footer">
              <ul class="list-unstyled list-inline">
                <li class="text-nowrap">
                  <button type="button" class="btn btn-xs" ng-click="pause(torrent)">
                    <span class="fa {{ torrent.stats.paused ? 'fa-play' : 'fa-pause' }}"></span>
                  </button>
                </li>
                <li class="text-nowrap" ng-show="torrent.stats">
                  <strong>Speed:</strong>
                  <span class="label label-success">{{ torrent.stats.speed.down / 1024 | number:1 }}</span> /
                  <span class="label label-danger">{{ torrent.stats.speed.up / 1024 | number:1 }}</span> KB/s
                </li>
                <li class="text-nowrap" ng-show="torrent.stats">
                  <strong>Traffic:</strong>
                  <span class="label label-success">{{ torrent.stats.traffic.down / 1024 / 1024 | number:1 }}</span> /
                  <span class="label label-danger">{{ torrent.stats.traffic.up / 1024 / 1024 | number:1 }}</span> MB
                </li>
                <li class="text-nowrap" ng-show="torrent.stats">
                  <strong>Peers:</strong>
                  <span class="label label-success">{{ torrent.stats.peers.unchocked | number }}</span> /
                  <span class="label label-default">{{ torrent.stats.peers.total | number }}</span>
                </li>
                <li class="text-nowrap" ng-show="torrent.stats">
                  <strong>Queue:</strong>
                  <span class="label label-primary">{{ torrent.stats.queue | number }}</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <input type="text" placeholder="chercher SERIE" ng-model="series" value="game of thrones">
        <input type="text" placeholder="chercher SAISON" ng-model="season" value="3">
        <input type="text" placeholder="chercher EPISODE" ng-model="episode" value="1">
        <button type="button" ng-click="searchSeries(series,season,episode)">go</button>

       <style>
        button { /*pointer-events: none;*/ }
        .joinable { border: 3px solid green; /*pointer-events: all;*/ }
        </style>
       
        SEANCES PUBLIQUES :
        <button ng-click="downloadSeancePublique(seancePublique.magnet,seancePublique.startsAt)" ng-repeat="seancePublique in seancesPubliques" ng-class="{joinable: seancePublique.joinable}">{{seancePublique.name}}</button>
        
        SEANCES PUBLIQUES :
        <button ng-click="joinTVChat($index)" ng-repeat="tvShow in tvShows" ng-class="{joinable: seancePublique.joinable}">{{tvShow.name}}</button>
        
        
        <!-- 'magnet:?xt=urn:btih:4E660F05AD95F61950985C3A6702AE605E41B649&dn=into+the+woods+2014+1080p+brrip+x264+yify&tr=udp%3A%2F%2Fopen.demonii.com%3A1337%2Fannounce',1429185000 -->
        
        
        A LA TV
        <button ng-click="joinTVChat(0)" >grey's anatomy</button>
       
        <div class="footer">
          <p><span class="fa fa-heart"></span> peerflix</p>
        </div>
    </div>
    <div ng-switch-when="watch">
        WATCH

        <video id="player" controls ng-src="{{getVideoSrc(beingPlayed_infoHash,beingPlayed_filePath)}}">
        </video>
        
        <span ng-hide="timeLeft === false">
            temps restant : {{timeLeft}}
        </span>
        
       
    </div>
      <div ng-switch-when="watchChatOnly">
        WATCH CHAT ONLY
    </div>
       nb participants : {{chatUserCount}}
        <ul id="chat">
            <li ng-repeat="chatMessage in chatMessages"><strong>{{chatMessage.nickname}}</strong> : {{chatMessage.message}}</li>
        </ul>
        <input type="text" placeholder="Chatter..." ng-model="chatMessage">
        <button type="button" ng-click="chatSendMessage(chatMessage)">Envoyer</button>
<a ng-click="removeAll()">removeall</a>

</div>